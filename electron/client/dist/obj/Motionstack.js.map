{"version":3,"sources":["../../../ecma/obj/Motionstack.js"],"names":["Motionstack","args","object_id","getArg","Array","distance","curve","TWEEN","Easing","Quadratic","InOut","curvesList","curvesObject","name","curveString","line","dispersionAngle","duration","delay","delayPerMember","key","fallback","hasOwnProperty","c","Quazar","each","ix","easing","iy","easeType","indexOf","toLowerCase","push","cps","split","s1","s2","$","tweens","__inst","objects","Game","sprites","item","id_item","id","alert","target","x","position","y","z","Tween","Elastic","to","onUpdate","console","log","onComplete","fire","start","engageTween","callback","Motion","key_members","value","add","update","obj","error","object"],"mappings":";;;;;;AAAA;;;;;IAOMA,W;AACF,6BAAYC,IAAZ,EAAkB;AAAA;;AAId,qBAAKC,SAAL,GAAkB,KAAKC,MAAL,CAAYF,IAAZ,EAAkB,WAAlB,EAA+B,KAAKE,MAAL,CAAYF,IAAZ,EAAkB,YAAlB,EAAgC,KAAhC,CAA/B,CAAlB;;AAEA,oBAAG,KAAKC,SAAL,YAA0BE,KAA7B,EACA,CAGC,CAJD,MAMA;AACI,6BAAKF,SAAL,GAAiB,CAAC,KAAKA,SAAN,CAAjB;AAEH;;AAMD,qBAAKG,QAAL,GAAiB,KAAKF,MAAL,CAAYF,IAAZ,EAAkB,UAAlB,EAA8B,KAAKE,MAAL,CAAYF,IAAZ,EAAkB,WAAlB,EAA+B,KAA/B,CAA9B,CAAjB;;AAIA,qBAAKK,KAAL,GAAc,KAAKH,MAAL,CAAYF,IAAZ,EAAkB,OAAlB,EAA2BM,MAAMC,MAAN,CAAaC,SAAb,CAAuBC,KAAlD,CAAd;;AAEA,qBAAKC,UAAL,GAAmB,KAAKC,YAAL,EAAnB;;AAEA,qBAAKC,IAAL,GAAa,KAAKV,MAAL,CAAYF,IAAZ,EAAkB,MAAlB,EAA0B,KAA1B,CAAb;;AAGA,qBAAKa,WAAL,GAAmB,KAAKX,MAAL,CAAYF,IAAZ,EAAkB,aAAlB,EAAiC,KAAjC,CAAnB;;AAEA,qBAAKc,IAAL,GAAa,KAAKZ,MAAL,CAAYF,IAAZ,EAAkB,MAAlB,EAA0B,KAA1B,CAAb;;AAEA,qBAAKe,eAAL,GAAwB,KAAKb,MAAL,CAAYF,IAAZ,EAAkB,iBAAlB,EAAqC,KAArC,CAAxB;;AAEA,qBAAKgB,QAAL,GAAiB,KAAKd,MAAL,CAAYF,IAAZ,EAAkB,UAAlB,EAA8B,KAA9B,CAAjB;;AAEA,qBAAKiB,KAAL,GAAc,KAAKf,MAAL,CAAYF,IAAZ,EAAkB,OAAlB,EAA0B,KAA1B,CAAd;;AAEA,qBAAKkB,cAAL,GAAuB,KAAKhB,MAAL,CAAYF,IAAZ,EAAkB,gBAAlB,EAAoC,KAApC,CAAvB;AAGH;;;;uCAGMA,I,EAAMmB,G,EAAKC,Q,EAAU;;AAExB,4BAAIpB,KAAKqB,cAAL,CAAoBF,GAApB,CAAJ,EAA8B;;AAE1B,uCAAOnB,KAAKmB,GAAL,CAAP;AAEH,yBAJD,MAKK;AACD,uCAAOC,QAAP;AAEH;AAGJ;;;+CAIL;;AAEI,4BAAIE,IAAG,EAAP;;AAEFC,+BAAOC,IAAP,CAAYlB,MAAMC,MAAlB,EAA0B,UAASkB,EAAT,EAAaC,MAAb,EAAoB;;AAE1CH,uCAAOC,IAAP,CAAYE,MAAZ,EAAoB,UAASC,EAAT,EAAaC,QAAb,EAAsB;;AAEtC,4CAAG,CAAC,IAAD,EAAO,KAAP,EAAc,OAAd,EAAuBC,OAAvB,CAA+BF,GAAGG,WAAH,EAA/B,KAAoD,CAAvD,EACA;;AAEIR,kDAAES,IAAF,CAAON,KAAK,GAAL,GAAWE,EAAlB;AAEH;AAEJ,iCATD;AAWH,yBAbD;;AAeE,+BAAOL,CAAP;AAEH;;;yCAGQA,C,EACT;;AAEI,4BAAIU,MAAMV,EAAEW,KAAF,CAAQ,GAAR,CAAV;;AAEA,4BAAIC,KAAKF,IAAI,CAAJ,CAAT;AAAA,4BAAiBG,KAAKH,IAAI,CAAJ,CAAtB;;AAGA,4BAAI3B,QAAQC,MAAMC,MAAN,CAAaC,SAAb,CAAuBC,KAAnC;;AAEA2B,0BAAEZ,IAAF,CAAOlB,MAAMC,MAAb,EAAqB,UAASkB,EAAT,EAAaC,MAAb,EAAoB;;AAErCU,kCAAEZ,IAAF,CAAOlB,MAAMC,MAAN,CAAakB,EAAb,CAAP,EAAyB,UAASE,EAAT,EAAaC,QAAb,EAAsB;;AAE3C,4CAAGH,MAAMS,EAAN,IAAYP,MAAMQ,EAArB,EACA;;AAGI9B,wDAAQC,MAAMC,MAAN,CAAakB,EAAb,EAAiBE,EAAjB,CAAR;AAEH;AAEJ,iCAVD;AAYH,yBAdD;;AAgBA,6BAAKtB,KAAL,GAAaA,KAAb;;AAGA,+BAAOA,KAAP;AAIH;;;8CAGG;;AAEI,4BAAIgC,SAAS,EAAb;;AAEA;;AAEA,4BAAIC,SAAS,IAAb;;AAGA,4BAAIC,UAAU,EAAd;;AAKDH,0BAAEZ,IAAF,CAAOgB,KAAKC,OAAZ,EAAqB,UAAShB,EAAT,EAAaiB,IAAb,EAAkB;;AAEnCN,kCAAEZ,IAAF,CAAOc,OAAOrC,SAAd,EAAyB,UAAS0B,EAAT,EAAagB,OAAb,EAAsB;;AAE3C,4CAAGD,KAAKE,EAAL,IAAWD,OAAd,EACA;;AAECE,sDAAM,OAAN;;AAEAN,wDAAQd,EAAR,IAAciB,IAAd;AAEA;AAEJ,iCAXD;AAeH,yBAjBD;;AAoBC,4BAAII,SAAS;;AAETC,mCAAET,OAAOlC,QAAP,CAAgB2C,CAAhB,GAAoBR,QAAQ,CAAR,EAAWS,QAAX,CAAoBD,CAFjC;AAGTE,mCAAEX,OAAOlC,QAAP,CAAgB6C,CAAhB,GAAoBV,QAAQ,CAAR,EAAWS,QAAX,CAAoBC,CAHjC;AAITC,mCAAEZ,OAAOlC,QAAP,CAAgB8C,CAAhB,GAAoBX,QAAQ,CAAR,EAAWS,QAAX,CAAoBE;;AAJjC,yBAAb;;AAUA;AACAb,+BAAO,CAAP,IAAY,IAAI/B,MAAM6C,KAAV,CAAgBZ,QAAQ,CAAR,EAAWS,QAA3B,EACPtB,MADO,CACAY,OAAOjC,KAAP,IAAgBC,MAAMC,MAAN,CAAa6C,OAAb,CAAqB3C,KADrC,EAGP4C,EAHO,CAGJP,MAHI,EAGI,GAHJ,EAIPQ,QAJO,CAIE,YAAW;AACjBC,wCAAQC,GAAR,CAAYjB,QAAQ,CAAR,EAAWS,QAAX,CAAoBD,CAAhC,EAAkCR,QAAQ,CAAR,EAAWS,QAAX,CAAoBC,CAAtD;AACH,yBANO,EAOPQ,UAPO,CAOI,YAAW;AACnBF,wCAAQC,GAAR,CAAYjB,QAAQ,CAAR,EAAWS,QAAX,CAAoBD,CAAhC,EAAmCR,QAAQ,CAAR,EAAWS,QAAX,CAAoBC,CAAvD;AACH,yBATO,CAAZ;;AAYA,+BAAM;;AAECZ,wCAAOA,MAFR;;AAIEqB,sCAAK,gBAAW;;AAGb,6CAAKrB,MAAL,CAAY,CAAZ,EAAesB,KAAf;AAEF;;AATH,yBAAN;AAeH;;;wCAGD;AACI,6BAAKC,WAAL,GAAmBF,IAAnB;AAEH;;;2CAGD;AACInC,+BAAOC,IAAP,CAAY,KAAKa,MAAjB,EAAyB,UAAUZ,EAAV,EAAciB,IAAd,EAAoB;;AAEzCa,wCAAQ,EAAR;;AAEAb,qCAAKiB,KAAL;AAEH,yBAND;AAQH;;;0CAED,CAGC;;;yCAIQE,Q,EAAU,CAGlB;;;2CAEUA,Q,EAAU,CAEpB;;;;;;AAOL,IAAIC,SAAS,SAATA,MAAS,CAASC,WAAT,EAAsBC,KAAtB,EACb;;AAEI,eAAO;;AAEHC,qBAAI,eAAU;AAAG,6BAAKC,MAAL,GAAc,UAASC,GAAT,EAAa;AAAE5C,uCAAOC,IAAP,CAAYuC,WAAZ,EAAyB,UAAStC,EAAT,EAAaiB,IAAb,EAAkB;AAAEyB,4CAAIzB,IAAJ,KAAasB,KAAb;AAAqB,iCAAlE;AAAsE,yBAAnG;AAAsG,iBAFpH;;AAIHE,wBAAO,kBAAU;AAAEX,gCAAQa,KAAR,CAAc,cAAd;AAAgC,iBAJhD;;AAMHf,oBAAG,YAASc,GAAT,EAAa;AAAE,6BAAKD,MAAL;AAAgB,iBAN/B;;AAQHG,wBAAOA,MARJ;;AAUHL,uBAAMA,KAVH;;AAYHpB,oBAAIA;;AAZD,SAAP;AAiBH,CApBD","file":"Motionstack.js","sourcesContent":["/**\r\n * Created by The Blakes on 04-13-2017\r\n *\r\n */\r\n\r\n\r\n\r\nclass Motionstack {\r\n    constructor(args) {\r\n\r\n\r\n\r\n        this.object_id =  this.getArg(args, 'object_id', this.getArg(args, 'object_ids', false));\r\n\r\n        if(this.object_id instanceof Array)\r\n        {\r\n\r\n\r\n        }\r\n        else\r\n        {\r\n            this.object_id = [this.object_id];\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        this.distance =  this.getArg(args, 'distance', this.getArg(args, 'distances', false));\r\n\r\n\r\n\r\n        this.curve =  this.getArg(args, 'curve', TWEEN.Easing.Quadratic.InOut);\r\n\r\n        this.curvesList =  this.curvesObject();\r\n\r\n        this.name =  this.getArg(args, 'name', false);\r\n\r\n\r\n        this.curveString = this.getArg(args, 'curveString', false);\r\n\r\n        this.line =  this.getArg(args, 'line', false);\r\n\r\n        this.dispersionAngle =  this.getArg(args, 'dispersionAngle', false);\r\n\r\n        this.duration =  this.getArg(args, 'duration', false);\r\n\r\n        this.delay =  this.getArg(args, 'delay',false);\r\n\r\n        this.delayPerMember =  this.getArg(args, 'delayPerMember', false);\r\n\r\n\r\n    }\r\n\r\n\r\n    getArg(args, key, fallback) {\r\n\r\n        if (args.hasOwnProperty(key)) {\r\n\r\n            return args[key];\r\n\r\n        }\r\n        else {\r\n            return fallback;\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    curvesObject()\r\n{\r\n\r\n    var c =[];\r\n\r\n  Quazar.each(TWEEN.Easing, function(ix, easing){\r\n\r\n      Quazar.each(easing, function(iy, easeType){\r\n\r\n          if(['in', 'out', 'inout'].indexOf(iy.toLowerCase()) >= 0)\r\n          {\r\n\r\n              c.push(ix + \"_\" + iy);\r\n\r\n          }\r\n\r\n      });\r\n\r\n  });\r\n\r\n    return c;\r\n\r\n}\r\n\r\n\r\nsetCurve(c)\r\n{\r\n\r\n    var cps = c.split('_');\r\n\r\n    var s1 = cps[0], s2 = cps[1];\r\n\r\n\r\n    var curve = TWEEN.Easing.Quadratic.InOut;\r\n\r\n    $.each(TWEEN.Easing, function(ix, easing){\r\n\r\n        $.each(TWEEN.Easing[ix], function(iy, easeType){\r\n\r\n            if(ix == s1 && iy == s2)\r\n            {\r\n\r\n\r\n                curve = TWEEN.Easing[ix][iy];\r\n\r\n            }\r\n\r\n        });\r\n\r\n    });\r\n\r\n    this.curve = curve;\r\n\r\n\r\n    return curve;\r\n\r\n\r\n\r\n}\r\n\r\n    engageTween()\r\n    {\r\n\r\n        var tweens = [];\r\n\r\n        //construct a tween::\r\n\r\n        var __inst = this;\r\n\r\n\r\n        var objects = {};\r\n\r\n\r\n\r\n\r\n       $.each(Game.sprites, function(ix, item){\r\n\r\n           $.each(__inst.object_id, function(iy, id_item) {\r\n\r\n               if(item.id == id_item)\r\n               {\r\n\r\n                alert('mathc');\r\n\r\n                objects[ix] = item;\r\n\r\n               }\r\n\r\n           });\r\n\r\n\r\n\r\n       });\r\n\r\n\r\n        var target = {\r\n\r\n            x:__inst.distance.x + objects[0].position.x,\r\n            y:__inst.distance.y + objects[0].position.y,\r\n            z:__inst.distance.z + objects[0].position.z\r\n\r\n        };\r\n\r\n\r\n\r\n        //we have a target\r\n        tweens[0] = new TWEEN.Tween(objects[0].position)\r\n            .easing(__inst.curve || TWEEN.Easing.Elastic.InOut)\r\n\r\n            .to(target, 500)\r\n            .onUpdate(function() {\r\n                console.log(objects[0].position.x,objects[0].position.y);\r\n            })\r\n            .onComplete(function() {\r\n                console.log(objects[0].position.x, objects[0].position.y);\r\n            });\r\n\r\n\r\n        return{\r\n\r\n               tweens:tweens,\r\n\r\n                fire:function() {\r\n\r\n\r\n                   this.tweens[0].start();\r\n\r\n                }\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    start()\r\n    {\r\n        this.engageTween().fire();\r\n\r\n    }\r\n\r\n    simultan()\r\n    {\r\n        Quazar.each(this.tweens, function (ix, item) {\r\n\r\n            console('');\r\n\r\n            item.start();\r\n\r\n        });\r\n\r\n    }\r\n    synchro()\r\n    {\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    onUpdate(callback) {\r\n\r\n\r\n    }\r\n\r\n    onComplete(callback) {\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nvar Motion = function(key_members, value)\r\n{\r\n\r\n    return {\r\n\r\n        add:function(){  this.update = function(obj){ Quazar.each(key_members, function(ix, item){ obj[item] += value; }); }; },\r\n\r\n        update:function(){ console.error('unset update'); },\r\n\r\n        to:function(obj){ this.update(); },\r\n\r\n        object:object,\r\n\r\n        value:value,\r\n\r\n        id: id\r\n\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n"]}